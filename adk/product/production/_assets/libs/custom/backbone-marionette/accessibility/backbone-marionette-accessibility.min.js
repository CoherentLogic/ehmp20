!function(t){"use strict";var a=function(t){return(t||"ui-id")+"-"+Math.floor(1e3*Math.random()+1)},e=function(t,e){t.$(".alert").attr("role","alert"),t.$(".close [aria-hidden=true]").length||t.$("close").removeAttr("aria-hidden").wrapInner('<span aria-hidden="true"></span>').append('<span class="sr-only">Close</span>'),t.$(".modal-dialog").attr({role:"document"});var r,n,i="[data-toggle=dropdown]",o=200,l=t.$(i).parent().find("ul").attr("role","menu"),s=l.find("li").attr("role","presentation");s.find("a").attr({role:"menuitem",tabIndex:"-1"}),t.$(i).attr({"aria-haspopup":"true","aria-expanded":"false"}),t.$(i).parent().on("shown.bs.dropdown",function(){r=e(this);var t=r.find("[data-toggle=dropdown]");t.attr("aria-expanded","true"),setTimeout(function(){n=e(".dropdown-menu [role=menuitem]:visible",r)[0];try{n.focus()}catch(t){}},o)}),t.$(i).parent().on("hidden.bs.dropdown",function(){r=e(this);var t=r.find("[data-toggle=dropdown]");t.attr("aria-expanded","false")});var d=t.$(".nav-tabs, .nav-pills"),p=d.find('[data-toggle="tab"], [data-toggle="pill"]');s=d.children("li"),d.attr("role","tablist"),s.attr("role","presentation"),p.attr("role","tab"),p.each(function(){var t=e(e(this).attr("href")),r=e(this),n=r.attr("id")||a("ui-tab");r.attr("id",n),r.parent().hasClass("active")?(r.attr({tabIndex:"0","aria-selected":"true","aria-controls":r.attr("href").substr(1)}),t.attr({role:"tabpanel",tabIndex:"0","aria-hidden":"false","aria-labelledby":n})):(r.attr({tabIndex:"-1","aria-selected":"false","aria-controls":r.attr("href").substr(1)}),t.attr({role:"tabpanel",tabIndex:"-1","aria-hidden":"true","aria-labelledby":n}))});var u=(e.fn.tab.Constructor.prototype.activate,t.$('[data-toggle="collapse"]'));u.attr({role:"tab","aria-selected":"false","aria-expanded":"false"}),u.each(function(){var t=e(this),r=e(t.attr("data-target")?t.attr("data-target"):t.attr("href")),n=t.attr("data-parent"),i=n&&e(n),o=t.attr("id")||a("ui-collapse");e(i).find("div:not(.collapse,.panel-body), h4").attr("role","presentation"),t.attr("id",o),i&&(i.attr({role:"tablist","aria-multiselectable":"true"}),r.hasClass("in")?(t.attr({"aria-controls":t.attr("href").substr(1),"aria-selected":"true","aria-expanded":"true",tabindex:"0"}),r.attr({role:"tabpanel",tabindex:"0","aria-labelledby":o,"aria-hidden":"false"})):(t.attr({"aria-controls":t.attr("href").substr(1),tabindex:"-1"}),r.attr({role:"tabpanel",tabindex:"-1","aria-labelledby":o,"aria-hidden":"true"})))});e.fn.collapse.Constructor.prototype.toggle;t.$(".carousel").each(function(){var t=e(this),a=t.find('[data-slide="prev"]'),r=t.find('[data-slide="next"]'),n=t.find(".item"),i=n.parent();t.attr({"data-interval":"false","data-wrap":"false"}),i.attr("role","listbox"),n.attr("role","option");var o=document.createElement("span");o.setAttribute("class","sr-only"),o.innerHTML="Previous";var l=document.createElement("span");l.setAttribute("class","sr-only"),l.innerHTML="Next",a.attr("role","button"),r.attr("role","button"),a.append(o),r.append(l),n.each(function(){var t=e(this);t.attr(t.hasClass("active")?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"})})})},r=Backbone.Marionette.View,n=r.extend({constructor:function(){return this.listenTo(this,"before:attach",function(){e(this._parentLayoutView&&this._parentLayoutView()?this._parentLayoutView():this,t)}),r.prototype.constructor.apply(this,arguments)}});Backbone.Marionette.View=n}(jQuery);
